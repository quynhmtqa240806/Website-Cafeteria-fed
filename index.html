<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>Danh sách giảng viên — BK</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
</head>

<body>

<!-- HEADER -->
<header class="site-header">
    <div class="logo-zone">
        <img src="img/logo-bk.png" alt="Logo BK" height="38"/>
        <span class="brand">BK LECTURER STORE</span>
    </div>

    <nav>
        <a href="index.html" class="active">Trang chủ</a>
        <a href="#">Review</a>
        <a href="#">Chatbot</a>
        <a href="#">Liên hệ</a>
    </nav>

    <div class="search-bar">
        <input id="search-input" type="text" placeholder="Tìm giảng viên..." />
        <button id="search-btn"><i class="fa-solid fa-search"></i></button>
    </div>
</header>

<main>
    <section style="padding:20px 2vw; max-width:1200px; margin:auto;">
        <h2 class="page-title">Danh sách giảng viên — Khoa KH&CN Giáo dục</h2>
        <p class="page-sub">Click vào ảnh hoặc tên để xem chi tiết.</p>

        <section id="lecturer-list" class="card-list"></section>

        <!-- PAGINATION -->
        <div id="pagination" class="pagination"></div>
    </section>
</main>

<!-- MODAL -->
<div id="modal-bg" class="modal-bg" onclick="closeModal()"></div>

<div id="modal" class="modal">
    <span class="close-btn" onclick="closeModal()">&times;</span>
    <div id="modal-content"></div>
</div>

<!-- CHATBOT -->
<div class="chatbot-widget">
    <button class="chatbot-btn" onclick="toggleChatbot()">
        <i class="fa-solid fa-robot"></i> Trợ lý
    </button>

    <div class="chatbot-box" id="chatbot-box">
        <div class="chatbot-head">Chatbot Tâm sự Giảng Viên</div>

        <div class="chatbot-messages" id="chatbot-messages">
            <div class="chatbot-message bot">
                Chào bạn! Hãy hỏi hoặc chia sẻ nhé.
            </div>
        </div>

        <div class="chatbot-action">
            <input type="text" id="chat-input" placeholder="Nhập nội dung..." />
            <button onclick="sendChat()">Gửi</button>
        </div>
    </div>
</div>


<script>
/* ===========================
        DỮ LIỆU GIẢNG VIÊN
   =========================== */
const lecturers = [
    {
        key: "le_hieu_hoc",
        img: "img/le_hieu_hoc.jpg",
        name: "PGS.TS. Lê Hiếu Học",
        title: "Trưởng khoa",
        dept: "Khoa KH&CN Giáo dục",
        desc: "Phòng: đang cập nhật<br>Email: hoc.lehieu@hust.edu.vn"
    },
    {
        key: "pham_thi_thanh_hai",
        img: "img/pham_thi_thanh_hai.jpg",
        name: "PGS.TS. Phạm Thị Thanh Hải",
        title: "Phó Trưởng khoa",
        dept: "Khoa KH&CN Giáo dục",
        desc: "Phòng 325 C7<br>Email: hai.phamthithanh@hust.edu.vn"
    },
    {
        key: "nguyen_thi_huyen",
        img: "img/nguyen_thi_huyen.jpg",
        name: "TS. Nguyễn Thị Huyền",
        title: "Giảng viên / Giám đốc CTĐT",
        dept: "Công nghệ Giáo dục",
        desc: "Phòng M329 C7<br>Email: huyen.nguyenthi2@hust.edu.vn"
    },
    {
        key: "bui_ngoc_son",
        img: "img/bui_ngoc_son.jpg",
        name: "ThS. Bùi Ngọc Sơn",
        title: "Giảng viên",
        dept: "Viện SPKT",
        desc: "Phòng 402 D5<br>Email: son.buingoc@hust.edu.vn"
    },
    {
        key: "nguyen_thi_thanh_tu",
        img: "img/nguyen_thi_thanh_tu.jpg",
        name: "TS. Nguyễn Thị Thanh Tú",
        title: "Giảng viên",
        dept: "Viện SPKT",
        desc: "Phòng 302 D3-D5<br>Email: tu.nguyenthithanh@hust.edu.vn"
    },
    {
        key: "vu_dinh_minh",
        img: "img/vu_dinh_minh.jpg",
        name: "TS. Vũ Đình Minh",
        title: "Giảng viên",
        dept: "Viện SPKT",
        desc: "Email: minh.vudinh@hust.edu.vn"
    },
    {
        key: "nguyen_thi_thanh_thuy",
        img: "img/nguyen_thi_thanh_thuy.jpg",
        name: "TS. Nguyễn Thị Thanh Thủy",
        title: "Giảng viên",
        dept: "Viện SPKT",
        desc: "Email: thuy.nguyenthithanh@hust.edu.vn"
    },
    {
        key: "nguyen_yen_chi",
        img: "img/nguyen_yen_chi.jpg",
        name: "ThS. Nguyễn Yến Chi",
        title: "Giảng viên",
        dept: "Khoa KH&CN Giáo dục",
        desc: "Email: chi.nguyenyen@hust.edu.vn"
    }
];

/* ===========================
        RENDER + PHÂN TRANG
   =========================== */

const itemsPerPage = 4;
let currentPage = 1;

function renderList() {
    const list = document.getElementById("lecturer-list");
    list.innerHTML = "";

    const start = (currentPage - 1) * itemsPerPage;
    const pageItems = lecturers.slice(start, start + itemsPerPage);

    pageItems.forEach(lec => {
        list.innerHTML += `
            <div class="lecturer-card" onclick="openDetail('${lec.key}')">
                <img src="${lec.img}" alt="${lec.name}" />
                <div class="star-rating">
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-regular fa-star"></i>
                    <span class="star-score">4.5</span>
                </div>

                <h3>${lec.name}</h3>
                <p class="lec-title">${lec.title}</p>

                <div class="dept-tag">${lec.dept}</div>
            </div>
        `;
    });

    renderPagination();
}

function renderPagination() {
    const totalPages = Math.ceil(lecturers.length / itemsPerPage);
    const pag = document.getElementById("pagination");
    pag.innerHTML = "";

    if (currentPage > 1) {
        pag.innerHTML += `<button onclick="goPage(${currentPage - 1})">←</button>`;
    }

    for (let i = 1; i <= totalPages; i++) {
        pag.innerHTML += `
            <button class="${i === currentPage ? 'active' : ''}" onclick="goPage(${i})">${i}</button>
        `;
    }

    if (currentPage < totalPages) {
        pag.innerHTML += `<button onclick="goPage(${currentPage + 1})">→</button>`;
    }
}

function goPage(p) {
    currentPage = p;
    renderList();
}

/* ===========================
        MODAL
   =========================== */
function openDetail(key) {
    const lec = lecturers.find(l => l.key === key);
    if (!lec) return;

    document.getElementById("modal-content").innerHTML = `
        <div class="modal-profile">
            <img src="${lec.img}" class="modal-img" />
            <div>
                <h2>${lec.name}</h2>
                <p><b>${lec.title}</b></p>
                <p>${lec.dept}</p>
                <p>${lec.desc}</p>
            </div>
        </div>
    `;

    document.getElementById("modal-bg").style.display = "block";
    document.getElementById("modal").style.display = "block";
}

function closeModal() {
    document.getElementById("modal-bg").style.display = "none";
    document.getElementById("modal").style.display = "none";
}

/* ===========================
        CHATBOT
   =========================== */
function toggleChatbot() {
    const box = document.getElementById("chatbot-box");
    box.style.display = box.style.display === "block" ? "none" : "block";
}

function sendChat() {
    const input = document.getElementById("chat-input");
    const msg = input.value.trim();
    if (!msg) return;

    const box = document.getElementById("chatbot-messages");
    box.innerHTML += `<div class="chatbot-message user">${msg}</div>`;
    input.value = "";

    setTimeout(() => {
        box.innerHTML += `<div class="chatbot-message bot">Mình đã nhận! Muốn tìm ai tiếp theo?</div>`;
        box.scrollTop = box.scrollHeight;
    }, 500);

    box.scrollTop = box.scrollHeight;
}

/* ===========================
        KHỞI TẠO
   =========================== */
window.onload = () => renderList();
</script>

</body>
</html>
